[gd_scene load_steps=3 format=3]

[ext_resource path="res://src/tests/EventBusHarness.gd" type="Script" id=1]
[ext_resource path="res://src/tests/EventBusHarnessListener.gd" type="Script" id=2]

[node name="EventBusHarness" type="Control"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 0.0
offset_bottom = 0.0
script = ExtResource(1)

[node name="Margin" type="MarginContainer" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 24.0
offset_top = 24.0
offset_right = -24.0
offset_bottom = -24.0

[node name="Scroll" type="ScrollContainer" parent="Margin"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 0.0
offset_bottom = 0.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="VBox" type="VBoxContainer" parent="Margin/Scroll"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Title" type="Label" parent="Margin/Scroll/VBox"]
text = "Event Bus Test Harness"

[node name="Instructions" type="Label" parent="Margin/Scroll/VBox"]
text = "Enter payload data for each signal and press the corresponding emit button.\nThe Test Listener logs every event below."
autowrap_mode = 3

[node name="Separator1" type="HSeparator" parent="Margin/Scroll/VBox"]

[node name="SignalsContainer" type="VBoxContainer" parent="Margin/Scroll/VBox"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="SignalsToLogSeparator" type="HSeparator" parent="Margin/Scroll/VBox"]

[node name="LogLabel" type="Label" parent="Margin/Scroll/VBox"]
text = "Signal Log"

[node name="LogActions" type="HBoxContainer" parent="Margin/Scroll/VBox"]
size_flags_horizontal = 3

[node name="ClearLogButton" type="Button" parent="Margin/Scroll/VBox/LogActions"]
unique_name_in_owner = true
text = "Clear Log"

[node name="SaveLogButton" type="Button" parent="Margin/Scroll/VBox/LogActions"]
unique_name_in_owner = true
text = "Save Log"

[node name="Log" type="RichTextLabel" parent="Margin/Scroll/VBox"]
unique_name_in_owner = true
size_flags_horizontal = 3
size_flags_vertical = 3
scroll_active = true

[node name="TestListener" type="Node" parent="."]
script = ExtResource(2)

[node name="SaveLogDialog" type="FileDialog" parent="."]
unique_name_in_owner = true
title = "Save Signal Log"
file_mode = 2
access = 2
filters = PackedStringArray("*.log ; Log Files", "*.txt ; Text Files", "* ; All Files")
